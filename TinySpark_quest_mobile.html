<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>クエスト</title>
  <link rel="stylesheet" href="TinySpark_quest_mobile.css" />
</head>

<body>
  <div class="phone">
    <main class="content">

      <section class="page-header card">
        <div class="page-header-top">
          <div class="nav-icon" aria-hidden="true">
            <img src="images/quest_Purple.png" alt="">
          </div>
          <h1 class="page-header-title">クエスト</h1>
        </div>
        <p class="page-header-sub">これだけやればOKです！</p>
      </section>

      <section class="progress card">
        <div class="progress-row">
          <p class="progress-label">今日の進捗</p>
          <p class="progress-count">0/3</p>
        </div>
        <div class="progress-track" role="progressbar" aria-valuemin="0" aria-valuemax="3" aria-valuenow="0">
          <div class="progress-fill" style="width: 0%;"></div>
        </div>
      </section>

      <section class="list" aria-label="クエスト一覧">

        <label class="quest card" for="q1">
          <input class="check" type="checkbox" id="q1" aria-label="スクワット10回を完了">

          <div class="quest-main">
            <h2 class="quest-title">スクワット10回</h2>
            <span class="badge badge--blue">運動</span>
          </div>
        </label>

        <label class="quest card" for="q2">
          <input class="check" type="checkbox" id="q2" aria-label="ペットにご飯をあげるを完了">

          <div class="quest-main">
            <h2 class="quest-title">ペットにご飯をあげる</h2>
            <span class="badge badge--pink">お世話</span>
          </div>
        </label>

        <label class="quest card" for="q3">
          <input class="check" type="checkbox" id="q3" aria-label="部屋を掃除するを完了">

          <div class="quest-main">
            <h2 class="quest-title">部屋を掃除する</h2>
            <span class="badge badge--pink">お世話</span>
          </div>
        </label>

      </section>
    </main>

    <nav class="bottom-nav" aria-label="ナビゲーション">
      <div class="nav-topline" aria-hidden="true"></div>
      
      <a class="nav-item" href="#">
        <span class="nav-icon" aria-hidden="true">
          <img src="images/home.png" alt="">
        </span>
        <span class="nav-label">ホーム</span>
      </a>

      <a class="nav-item" href="#">
        <span class="nav-icon" aria-hidden="true">
          <img src="images/dumbbell.png" alt="">
        </span>
        <span class="nav-label">運動</span>
      </a>

      <a class="nav-item is-active" href="#">
        <span class="nav-icon" aria-hidden="true">
          <img src="images/quest_Purple.png" alt="">
        </span>
        <span class="nav-label">クエスト</span>
      </a>

      <a class="nav-item" href="#">
        <span class="nav-icon" aria-hidden="true">
          <img src="images/bar_chart.png" alt="">
        </span>
        <span class="nav-label">統計</span>
      </a>
    </nav>
  </div>
  <script>
    const checks = [...document.querySelectorAll('.check')];
    const countEl = document.querySelector('.progress-count');
    const fillEl  = document.querySelector('.progress-fill');
    const trackEl = document.querySelector('.progress-track');
  
    function update(){
      const done = checks.filter(c => c.checked).length;
      const total = checks.length;
      countEl.textContent = `${done}/${total}`;
      const pct = total ? (done / total) * 100 : 0;
      fillEl.style.width = `${pct}%`;
      trackEl.setAttribute('aria-valuenow', done);
      trackEl.setAttribute('aria-valuemax', total);
    }
  
    checks.forEach(c => c.addEventListener('change', update));
    update();
  </script>  
</body>
</html>
